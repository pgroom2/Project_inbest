{"ast":null,"code":"\"use strict\";\n\nvar _classCallCheck = require(\"C:\\\\Users\\\\peter\\\\repos\\\\Project_inbest\\\\angular\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\classCallCheck.js\").default;\n\nvar _createClass = require(\"C:\\\\Users\\\\peter\\\\repos\\\\Project_inbest\\\\angular\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\createClass.js\").default;\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.AdminLayoutComponent = void 0;\n\nvar common_1 = require(\"@angular/common\");\n\nvar router_1 = require(\"@angular/router\");\n\nvar perfect_scrollbar_1 = require(\"perfect-scrollbar\");\n\nvar rxjs_1 = require(\"rxjs\");\n\nvar i0 = require(\"@angular/core\");\n\nvar i1 = require(\"@angular/common\");\n\nvar i2 = require(\"@angular/router\");\n\nvar i3 = require(\"../../sidebar/sidebar.component\");\n\nvar i4 = require(\"../../shared/navbar/navbar.component\");\n\nvar i5 = require(\"../../shared/footer/footer.component\");\n\nfunction AdminLayoutComponent_div_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelement(1, \"footer-cmp\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nvar AdminLayoutComponent = /*#__PURE__*/function () {\n  function AdminLayoutComponent(location, router) {\n    _classCallCheck(this, AdminLayoutComponent);\n\n    this.location = location;\n    this.router = router;\n    this.yScrollStack = [];\n  }\n\n  _createClass(AdminLayoutComponent, [{\n    key: \"ngOnInit\",\n    value: function ngOnInit() {\n      var _this = this;\n\n      console.log(this.router);\n      var isWindows = navigator.platform.indexOf('Win') > -1 ? true : false;\n\n      if (isWindows) {\n        // if we are on windows OS we activate the perfectScrollbar function\n        document.getElementsByTagName('body')[0].classList.add('perfect-scrollbar-on');\n      } else {\n        document.getElementsByTagName('body')[0].classList.remove('perfect-scrollbar-off');\n      }\n\n      var elemMainPanel = document.querySelector('.main-panel');\n      var elemSidebar = document.querySelector('.sidebar .sidebar-wrapper');\n      this.location.subscribe(function (ev) {\n        _this.lastPoppedUrl = ev.url;\n      });\n      this.router.events.subscribe(function (event) {\n        if (event instanceof router_1.NavigationStart) {\n          if (event.url != _this.lastPoppedUrl) _this.yScrollStack.push(window.scrollY);\n        } else if (event instanceof router_1.NavigationEnd) {\n          if (event.url == _this.lastPoppedUrl) {\n            _this.lastPoppedUrl = undefined;\n            window.scrollTo(0, _this.yScrollStack.pop());\n          } else window.scrollTo(0, 0);\n        }\n      });\n      this._router = this.router.events.pipe((0, rxjs_1.filter)(function (event) {\n        return event instanceof router_1.NavigationEnd;\n      })).subscribe(function (event) {\n        elemMainPanel.scrollTop = 0;\n        elemSidebar.scrollTop = 0;\n      });\n\n      if (window.matchMedia(\"(min-width: 960px)\").matches && !this.isMac()) {\n        var ps = new perfect_scrollbar_1.default(elemMainPanel);\n        ps = new perfect_scrollbar_1.default(elemSidebar);\n      }\n    }\n  }, {\n    key: \"ngAfterViewInit\",\n    value: function ngAfterViewInit() {\n      this.runOnRouteChange();\n    }\n  }, {\n    key: \"isMap\",\n    value: function isMap(path) {\n      var titlee = this.location.prepareExternalUrl(this.location.path());\n      titlee = titlee.slice(1);\n\n      if (path == titlee) {\n        return false;\n      } else {\n        return true;\n      }\n    }\n  }, {\n    key: \"runOnRouteChange\",\n    value: function runOnRouteChange() {\n      if (window.matchMedia(\"(min-width: 960px)\").matches && !this.isMac()) {\n        var elemMainPanel = document.querySelector('.main-panel');\n        var ps = new perfect_scrollbar_1.default(elemMainPanel);\n        ps.update();\n      }\n    }\n  }, {\n    key: \"isMac\",\n    value: function isMac() {\n      var bool = false;\n\n      if (navigator.platform.toUpperCase().indexOf('MAC') >= 0 || navigator.platform.toUpperCase().indexOf('IPAD') >= 0) {\n        bool = true;\n      }\n\n      return bool;\n    }\n  }]);\n\n  return AdminLayoutComponent;\n}();\n\nexports.AdminLayoutComponent = AdminLayoutComponent;\n\nAdminLayoutComponent.ɵfac = function AdminLayoutComponent_Factory(t) {\n  return new (t || AdminLayoutComponent)(i0.ɵɵdirectiveInject(i1.Location), i0.ɵɵdirectiveInject(i2.Router));\n};\n\nAdminLayoutComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: AdminLayoutComponent,\n  selectors: [[\"app-admin-layout\"]],\n  decls: 8,\n  vars: 1,\n  consts: [[1, \"wrapper\"], [\"data-color\", \"red\", \"data-image\", \"\", 1, \"sidebar\"], [1, \"sidebar-background\", 2, \"background-image\", \"url(assets/img/sidebar-5.jpg)\"], [1, \"main-panel\"], [4, \"ngIf\"]],\n  template: function AdminLayoutComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1);\n      i0.ɵɵelement(2, \"app-sidebar\")(3, \"div\", 2);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"div\", 3);\n      i0.ɵɵelement(5, \"navbar-cmp\")(6, \"router-outlet\");\n      i0.ɵɵtemplate(7, AdminLayoutComponent_div_7_Template, 2, 0, \"div\", 4);\n      i0.ɵɵelementEnd()();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(7);\n      i0.ɵɵproperty(\"ngIf\", ctx.isMap(\"maps\"));\n    }\n  },\n  directives: [i3.SidebarComponent, i4.NavbarComponent, i2.RouterOutlet, i1.NgIf, i5.FooterComponent],\n  styles: [\"\"]\n});","map":null,"metadata":{},"sourceType":"script"}